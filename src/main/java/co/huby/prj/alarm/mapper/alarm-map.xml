<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="co.huby.prj.alarm.mapper.AlarmMap">

	<insert id="alarmInsert" parameterType="co.huby.prj.alarm.service.AlarmVo">
		INSERT INTO ALARM VALUES (alarm_id_seq.nextval, null, #{member_id}, #{company_id}, #{alarm_message}, SYSTIMESTAMP);
	</insert>
	
	<select id="personalarmlist" parameterType="co.huby.prj.alarm.service.AlarmVo" resultType="co.huby.prj.alarm.service.AlarmVo">
		SELECT COMPANY_ID, ALARM_MESSAGE, ALARM_TIME FROM ALARM WHERE MEMBER_ID = #{id}
	</select>
	
	<select id="companyalarmlist" parameterType="co.huby.prj.alarm.service.AlarmVo" resultType="co.huby.prj.alarm.service.AlarmVo">
		SELECT MEMBER_ID, ALARM_MESSAGE, ALARM_TIME, ALARM_CURRENT FROM ALARM WHERE COMPANY_ID = #{company_id}
	</select>
	
</mapper>