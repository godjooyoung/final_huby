<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="co.huby.prj.board.mapper.BoardMap">
	<!-- 기업에게 매치해서 추천해주는거 -->
	<select id="getMatchedListForCompany" parameterType="co.huby.prj.common.VideoVo" resultType="map">
		SELECT DISTINCT c.code_name as "code_name", 
			v.video_id as "video_id", 
			v.video_contents as "video_contents", 
			v.video_img as "video_img", 
			v.member_id as "member_id"
		FROM code c
    	Join video v 
    	ON c.code_id = v.hashtag
        	Join employments e
        	ON e.hope_job = v.hashtag
        	WHERE e.company_id =#{company_id}
        	AND v.video_id NOT IN (
        						SELECT video_id 
        						FROM like_video 
        						WHERE company_id =#{company_id})
	</select>
	
	<!-- 기업이 영상에 좋아요 버튼을 클릭할경우 테이블에 저장되는거. -->
	<insert id="videoLikeInsertFromCompany" parameterType="co.huby.prj.common.VideoVo">
	INSERT INTO like_video
	VALUES (LIKE_VIDEO_SEQ.nextval, #{video_id}, (select member_id from video where video_id= #{video_id}), #{company_id})
	</insert>
	
	
	<!-- <select id="getSelect" parameterType="MemberVO" resultType="MemberVO">
		SELECT * FROM MEMBER WHERE ID = #{ID}
	</select>
	
	<select id="memberLoginCheck" parameterType="MemberVO" resultType="MemberVO">
		SELECT * FROM MEMBER WHERE ID = #{ID} AND PW = #{PW}
	</select>
	
	<select id="memberSearch" parameterType="MemberVO" resultType="MemberVO">
		
	</select>
	
	<insert id="memberInsert" parameterType="MemberVO">
		INSERT INTO MEMBER VALUE(#{ID},#{NAME},#{PW},#{ADDR},#{TEL},#{GENDER},#{HOBBY},#{FILENAME},#{AUTH})
	</insert>
	
	<delete id="memberDelete" parameterType="MemberVO">
		DELETE FROM MEMBER WHERE ID = #{ID}
	</delete>
	
	<update id="memberUpdate" parameterType="MemberVO">
		UPDATE MEMBER SET NAME = #{NAME}, PW = #{PW} , ADDR = #{ADDR}, TEL = #{TEL}, GENDER = #{GENDER},
									HOBBY = #{HOBBY}, FILENAME = #{FILENAME}, AUTH = #{AUTH}
	</update> -->
</mapper>

